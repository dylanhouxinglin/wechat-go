{"remainingRequest":"/Users/houxinglin/go/src/wechat-go/vue-WeChat/node_modules/babel-loader/lib/index.js!/Users/houxinglin/go/src/wechat-go/vue-WeChat/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/houxinglin/go/src/wechat-go/vue-WeChat/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/houxinglin/go/src/wechat-go/vue-WeChat/src/components/wechat/dialogue.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/houxinglin/go/src/wechat-go/vue-WeChat/src/components/wechat/dialogue.vue","mtime":1631686083319},{"path":"/Users/houxinglin/go/src/wechat-go/vue-WeChat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/houxinglin/go/src/wechat-go/vue-WeChat/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/houxinglin/go/src/wechat-go/vue-WeChat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/houxinglin/go/src/wechat-go/vue-WeChat/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFnZU5hbWU6IHRoaXMuJHJvdXRlLnF1ZXJ5Lm5hbWUsCiAgICAgIGN1cnJlbnRDaGF0V2F5OiB0cnVlLAogICAgICAvL3R1cmXkuLrplK7nm5jmiZPlrZcgZmFsc2XkuLror63pn7PovpPlhaUKICAgICAgdGltZXI6IG51bGwgLy8gc2F5QWN0aXZlOiBmYWxzZSAvLyBmYWxzZSDplK7nm5jmiZPlrZcgdHJ1ZSDor63pn7PovpPlhaUKCiAgICB9OwogIH0sCiAgYmVmb3JlUm91dGVFbnRlcjogZnVuY3Rpb24gYmVmb3JlUm91dGVFbnRlcih0bywgZnJvbSwgbmV4dCkgewogICAgbmV4dChmdW5jdGlvbiAodm0pIHsKICAgICAgdm0uJHN0b3JlLmNvbW1pdCgic2V0UGFnZU5hbWUiLCB2bS4kcm91dGUucXVlcnkubmFtZSk7CiAgICB9KTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBtc2dJbmZvOiBmdW5jdGlvbiBtc2dJbmZvKCkgewogICAgICBmb3IgKHZhciBpIGluIHRoaXMuJHN0b3JlLnN0YXRlLm1zZ0xpc3QuYmFzZU1zZykgewogICAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5tc2dMaXN0LmJhc2VNc2dbaV0ubWlkID09IHRoaXMuJHJvdXRlLnF1ZXJ5Lm1pZCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLm1zZ0xpc3QuYmFzZU1zZ1tpXTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB7fTsKICAgIH0KICB9LAogIGRpcmVjdGl2ZXM6IHsKICAgIHByZXNzOiB7CiAgICAgIGluc2VydGVkOiBmdW5jdGlvbiBpbnNlcnRlZChlbGVtZW50KSB7CiAgICAgICAgdmFyIHJlY29yZGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZWNvcmRpbmcnKSwKICAgICAgICAgICAgcmVjb3JkaW5nVm9pY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVjb3JkaW5nLXZvaWNlJyksCiAgICAgICAgICAgIHJlY29yZGluZ0NhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZWNvcmRpbmctY2FuY2VsJyksCiAgICAgICAgICAgIC8vIHN0YXJ0VHgsCiAgICAgICAgc3RhcnRUeTsKICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgLy8g55SoYmluZOaXtu+8jHZ1Zei/mOayoeaPkuWFpeWIsGRvbSzmlYVkb23ojrflj5bkuLogdW5kZWZpbmXvvIznlKggaW5zZXJ0ZWQg5Luj5pu/IGJpbmQs5Lmf5Y+v5Lul5byA5LiqMOenkueahOWumuaXtuWZqAogICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSAiY2hhdC1zYXkgc2F5LWFjdGl2ZSI7CiAgICAgICAgICByZWNvcmRpbmcuc3R5bGUuZGlzcGxheSA9IHJlY29yZGluZ1ZvaWNlLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgdmFyIHRvdWNoZXMgPSBlLnRvdWNoZXNbMF07IC8vIHN0YXJ0VHggPSB0b3VjaGVzLmNsaWVudFgKCiAgICAgICAgICBzdGFydFR5ID0gdG91Y2hlcy5jbGllbnRZOwogICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIH0sIGZhbHNlKTsKICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIC8qdmFyIHRvdWNoZXMgPSBlLmNoYW5nZWRUb3VjaGVzWzBdOwogICAgICAgICAgdmFyIGRpc3RhbmNlWSA9IHN0YXJ0VHkgLSB0b3VjaGVzLmNsaWVudFk7CiAgICAgICAgICBpZiAoZGlzdGFuY2VZID4gNTApIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5Y+W5raI5Y+R6YCB5L+h5oGvIik7CiAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5Y+R6YCB5L+h5oGvIik7CiAgICAgICAgICB9Ki8KICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gImNoYXQtc2F5IjsKICAgICAgICAgIHJlY29yZGluZ0NhbmNlbC5zdHlsZS5kaXNwbGF5ID0gcmVjb3JkaW5nLnN0eWxlLmRpc3BsYXkgPSByZWNvcmRpbmdWb2ljZS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIH0sIGZhbHNlKTsKICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgdG91Y2hlcyA9IGUuY2hhbmdlZFRvdWNoZXNbMF0sCiAgICAgICAgICAgICAgLy8gZW5kVHggPSB0b3VjaGVzLmNsaWVudFgsCiAgICAgICAgICBlbmRUeSA9IHRvdWNoZXMuY2xpZW50WSwKICAgICAgICAgICAgICAvLyBkaXN0YW5jZVggPSBzdGFydFR4IC0gZW5kVHgsCiAgICAgICAgICBkaXN0YW5jZVkgPSBzdGFydFR5IC0gZW5kVHk7CgogICAgICAgICAgaWYgKGRpc3RhbmNlWSA+IDUwKSB7CiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gImNoYXQtc2F5IjsKICAgICAgICAgICAgcmVjb3JkaW5nVm9pY2Uuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgICAgcmVjb3JkaW5nQ2FuY2VsLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSAiY2hhdC1zYXkgc2F5LWFjdGl2ZSI7CiAgICAgICAgICAgIHJlY29yZGluZ1ZvaWNlLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgICByZWNvcmRpbmdDYW5jZWwuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgIH0gLy8g6Zi75pat5LqL5Lu25YaS5rOhIOmYsuatoumhtemdouiiq+S4gOWQjOWQkeS4iua7keWKqAoKCiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgfSwgZmFsc2UpOwogICAgICB9CiAgICB9LAogICAgbW9yZTogewogICAgICBiaW5kOiBmdW5jdGlvbiBiaW5kKGVsZW1lbnQpIHsKICAgICAgICB2YXIgc3RhcnRUeCwgc3RhcnRUeTsKICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIG1zZ01vcmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXNnLW1vcmUnKSwKICAgICAgICAgICAgICB0b3VjaGVzID0gZS50b3VjaGVzWzBdOwogICAgICAgICAgc3RhcnRUeCA9IHRvdWNoZXMuY2xpZW50WDsKICAgICAgICAgIHN0YXJ0VHkgPSB0b3VjaGVzLmNsaWVudFk7CiAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcik7CiAgICAgICAgICB0aGlzLnRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vIOaOp+WItuiPnOWNleeahOS9jee9rgogICAgICAgICAgICBtc2dNb3JlLnN0eWxlLmxlZnQgPSAoc3RhcnRUeCAtIDE4ID4gMTgwID8gMTgwIDogc3RhcnRUeCAtIDE4KSArICdweCc7CiAgICAgICAgICAgIG1zZ01vcmUuc3R5bGUudG9wID0gZWxlbWVudC5vZmZzZXRUb3AgLSAzMyArICdweCc7CiAgICAgICAgICAgIG1zZ01vcmUuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNlNWU1ZTUnOwogICAgICAgICAgfSwgNTAwKTsKICAgICAgICB9LCBmYWxzZSk7CiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIHRvdWNoZXMgPSBlLmNoYW5nZWRUb3VjaGVzWzBdLAogICAgICAgICAgICAgIGRpc1kgPSB0b3VjaGVzLmNsaWVudFk7CgogICAgICAgICAgaWYgKE1hdGguYWJzKGRpc1kgLSBzdGFydFR5KSA+IDEwKSB7CiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTsKICAgICAgICAgIH0KICAgICAgICB9LCBmYWxzZSk7CiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTsKICAgICAgICB9LCBmYWxzZSk7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOino+WGs+i+k+WFpeazleiiq+a/gOa0u+aXtiDlupXpg6jovpPlhaXmoYbooqvpga7kvY/pl67popgKICAgIGZvY3VzSXB0OiBmdW5jdGlvbiBmb2N1c0lwdCgpIHsKICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0OwogICAgICB9LCAxMDApOwogICAgfSwKICAgIGJsdXJJcHQ6IGZ1bmN0aW9uIGJsdXJJcHQoKSB7CiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICB9LAogICAgLy8g54K55Ye756m655m95Yy65Z+f77yM6I+c5Y2V6KKr6ZqQ6JePCiAgICBNZW51T3V0c2lkZUNsaWNrOiBmdW5jdGlvbiBNZW51T3V0c2lkZUNsaWNrKGUpIHsKICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50ZXh0JyksCiAgICAgICAgICBtc2dNb3JlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21zZy1tb3JlJyk7CgogICAgICBpZiAoZS50YXJnZXQuY2xhc3NOYW1lICE9PSAndGV4dCcpIHsKICAgICAgICBtc2dNb3JlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgY29udGFpbmVyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZmZmJzsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["dialogue.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"dialogue\">\n        <header id=\"wx-header\">\n            <div class=\"other\">\n                <router-link :to=\"{path:'/wechat/dialogue/dialogue-info',query: { msgInfo: msgInfo}}\" tag=\"span\"\n                    class=\"iconfont icon-chat-group\" v-show=\"$route.query.group_num&&$route.query.group_num!=1\">\n                </router-link>\n                <router-link :to=\"{path:'/wechat/dialogue/dialogue-detail',query: { msgInfo: msgInfo}}\" tag=\"span\"\n                    class=\"iconfont icon-chat-friends\" v-show=\"$route.query.group_num==1\"></router-link>\n            </div>\n            <div class=\"center\">\n                <router-link to=\"/\" tag=\"div\" class=\"iconfont icon-return-arrow\">\n                    <span>微信</span>\n                </router-link>\n                <span>{{pageName}}</span>\n                <span class=\"parentheses\"\n                    v-show='$route.query.group_num&&$route.query.group_num!=1'>{{$route.query.group_num}}</span>\n            </div>\n        </header>\n        <section class=\"dialogue-section clearfix\" v-on:click=\"MenuOutsideClick\">\n            <div class=\"row clearfix\" v-for=\"(item,index) in msgInfo.msg\" :key=\"index\">\n                <img :src=\"item.headerUrl\" class=\"header\">\n                <p class=\"text\" v-more>{{item.text}}</p>\n            </div>\n            <span class=\"msg-more\" id=\"msg-more\">\n                <ul>\n                    <li>复制</li>\n                    <li>转发</li>\n                    <li>收藏</li>\n                    <li>删除</li>\n                </ul>\n            </span>\n        </section>\n        <footer class=\"dialogue-footer\">\n            <div class=\"component-dialogue-bar-person\">\n                <span class=\"iconfont icon-dialogue-jianpan\" v-show=\"!currentChatWay\"\n                    v-on:click=\"currentChatWay=true\"></span>\n                <span class=\"iconfont icon-dialogue-voice\" v-show=\"currentChatWay\"\n                    v-on:click=\"currentChatWay=false\"></span>\n                <div class=\"chat-way\" v-show=\"!currentChatWay\">\n                    <div class=\"chat-say\" v-press>\n                        <span class=\"one\">按住 说话</span>\n                        <span class=\"two\">松开 结束</span>\n                    </div>\n                </div>\n                <div class=\"chat-way\" v-show=\"currentChatWay\">\n                    <input class=\"chat-txt\" type=\"text\" v-on:focus=\"focusIpt\" v-on:blur=\"blurIpt\" />\n                </div>\n                <span class=\"expression iconfont icon-dialogue-smile\"></span>\n                <span class=\"more iconfont icon-dialogue-jia\"></span>\n                <div class=\"recording\" style=\"display: none;\" id=\"recording\">\n                    <div class=\"recording-voice\" style=\"display: none;\" id=\"recording-voice\">\n                        <div class=\"voice-inner\">\n                            <div class=\"voice-icon\"></div>\n                            <div class=\"voice-volume\">\n                                <span></span>\n                                <span></span>\n                                <span></span>\n                                <span></span>\n                                <span></span>\n                                <span></span>\n                                <span></span>\n                                <span></span>\n                                <span></span>\n                            </div>\n                        </div>\n                        <p>手指上划,取消发送</p>\n                    </div>\n                    <div class=\"recording-cancel\" style=\"display: none;\">\n                        <div class=\"cancel-inner\"></div>\n                        <p>松开手指,取消发送</p>\n                    </div>\n                </div>\n            </div>\n        </footer>\n    </div>\n</template>\n<script>\n    export default {\n        data() {\n            return {\n                pageName: this.$route.query.name,\n                currentChatWay: true, //ture为键盘打字 false为语音输入\n                timer: null\n                // sayActive: false // false 键盘打字 true 语音输入\n            }\n        },\n        beforeRouteEnter(to, from, next) {\n            next(vm => {\n                vm.$store.commit(\"setPageName\", vm.$route.query.name)\n            })\n        },\n        computed: {\n            msgInfo() {\n                for (var i in this.$store.state.msgList.baseMsg) {\n                    if (this.$store.state.msgList.baseMsg[i].mid == this.$route.query.mid) {\n                        return this.$store.state.msgList.baseMsg[i]\n                    }\n                }\n                return {}\n            }\n        },\n        directives: {\n            press: {\n                inserted(element) {\n                    var recording = document.querySelector('.recording'),\n                        recordingVoice = document.querySelector('.recording-voice'),\n                        recordingCancel = document.querySelector('.recording-cancel'),\n                        // startTx,\n                        startTy\n\n                    element.addEventListener('touchstart', function (e) {\n                        // 用bind时，vue还没插入到dom,故dom获取为 undefine，用 inserted 代替 bind,也可以开个0秒的定时器\n                        element.className = \"chat-say say-active\"\n                        recording.style.display = recordingVoice.style.display = \"block\"\n                        var touches = e.touches[0]\n                        // startTx = touches.clientX\n                        startTy = touches.clientY\n                        e.preventDefault()\n                    }, false)\n                    element.addEventListener('touchend', function (e) {\n                        /*var touches = e.changedTouches[0];\n                        var distanceY = startTy - touches.clientY;\n                        if (distanceY > 50) {\n                            console.log(\"取消发送信息\");\n                        }else{\n                            console.log(\"发送信息\");\n                        }*/\n\n                        element.className = \"chat-say\"\n                        recordingCancel.style.display = recording.style.display = recordingVoice.style.display = \"none\"\n                        e.preventDefault()\n                    }, false)\n                    element.addEventListener('touchmove', function (e) {\n                        var touches = e.changedTouches[0],\n                            // endTx = touches.clientX,\n                            endTy = touches.clientY,\n                            // distanceX = startTx - endTx,\n                            distanceY = startTy - endTy;\n\n                        if (distanceY > 50) {\n                            element.className = \"chat-say\"\n                            recordingVoice.style.display = \"none\"\n                            recordingCancel.style.display = \"block\"\n                        } else {\n                            element.className = \"chat-say say-active\"\n                            recordingVoice.style.display = \"block\"\n                            recordingCancel.style.display = \"none\"\n                        }\n                        // 阻断事件冒泡 防止页面被一同向上滑动\n                        e.preventDefault()\n                    }, false);\n                }\n            },\n            more: {\n                bind(element) {\n                    var startTx, startTy\n                    element.addEventListener('touchstart', function (e) {\n                        var msgMore = document.getElementById('msg-more'),\n                            touches = e.touches[0];\n                        startTx = touches.clientX\n                        startTy = touches.clientY\n\n                        clearTimeout(this.timer)\n                        this.timer = setTimeout(() => {\n                            // 控制菜单的位置\n                            msgMore.style.left = ((startTx - 18) > 180 ? 180 : (startTx - 18)) + 'px'\n                            msgMore.style.top = (element.offsetTop - 33) + 'px'\n                            msgMore.style.display = \"block\"\n                            element.style.backgroundColor = '#e5e5e5'\n                        }, 500)\n\n                    }, false)\n                    element.addEventListener('touchmove', function (e) {\n                        var touches = e.changedTouches[0],\n                            disY = touches.clientY;\n                        if (Math.abs(disY - startTy) > 10) {\n                            clearTimeout(this.timer)\n                        }\n                    }, false)\n                    element.addEventListener('touchend', function () {\n                        clearTimeout(this.timer)\n                    }, false)\n                }\n            }\n        },\n        methods: {\n            // 解决输入法被激活时 底部输入框被遮住问题\n            focusIpt() {\n                this.timer = setInterval(function () {\n                    document.body.scrollTop = document.body.scrollHeight\n                }, 100)\n            },\n            blurIpt() {\n                clearInterval(this.timer)\n            },\n            // 点击空白区域，菜单被隐藏\n            MenuOutsideClick(e) {\n                var container = document.querySelectorAll('.text'),\n                    msgMore = document.getElementById('msg-more')\n                if (e.target.className !== 'text') {\n                    msgMore.style.display = 'none'\n                    container.forEach(item => item.style.backgroundColor = '#fff')\n                }\n            }\n        }\n    }\n</script>\n<style lang=\"less\">\n    @import \"../../assets/less/dialogue.less\";\n\n    .say-active {\n        background: #c6c7ca;\n    }\n</style>"],"sourceRoot":"src/components/wechat"}]}